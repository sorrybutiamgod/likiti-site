<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Наши объекты — LiKiTi (Мобильная версия)</title>
  <style>
    :root{
      --bg: #151414;
      --card: #202020;
      --accent: #f8d13b;
      --text: #e0e0e0;
      --muted: rgba(224,224,224,0.6);
      --shadow: 0 6px 18px rgba(0,0,0,0.45);
      --radius: 10px;
    }
@font-face {
    font-family: 'Montserrat-SemiBold';
    src: url('Fonts/Montserrat/Montserrat-SemiBold.woff') format('woff');
    font-weight: normal;
    font-style: normal;
 }
    /* --- БАЗА --- */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: 'Oswald';
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      -webkit-tap-highlight-color: transparent;
      line-height:1.3;
      padding-bottom:90px; /* место для back-home */
    }

    a{color:inherit}

    @font-face {
      font-family: 'Oswald';
      src: url('Fonts/Oswald/Oswald.woff') format('woff');
    }
    @font-face {
      font-family: 'Montserrat';
      src: url('Fonts/Montserrat/Montserrat-Medium.woff') format('woff');
    }

    .container{
      max-width:1100px;
      margin:0 auto;
      padding:10px; /* мобильный-friendly padding */
    }

    /* --- ОБЪЕКТЫ --- */
    .object{
      background:var(--card);
      border-radius:10px;
      padding:10px;
      margin-bottom:16px;
      box-shadow:var(--shadow);
      overflow:visible;
    }

    .object-header{
      font-size:16px;
      font-weight:700;
      margin:0 0 12px 0;
      color:var(--accent);
      line-height:1.25;
    }

    /* --- ФОТОГАЛЕРЕЯ (grid) --- */
    .photo-gallery{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:8px;
      align-items:stretch;
    }

    .photo-gallery img{
      width:100%;
      height:100%;
      aspect-ratio: 4 / 3;
      object-fit: cover;
      border-radius:6px;
      display:block;
      cursor:pointer;
      transition: transform 160ms ease, box-shadow 160ms ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.25);
      touch-action: manipulation;
    }

    .photo-gallery img:active{ transform: scale(0.98); }

    /* --- CTA --- */
    .cta-row{
      margin-top:12px;
      display:flex;
      gap:10px;
      align-items:center;
    }

    .cta-button{
      display:inline-block;
      padding:12px 16px;
      background:var(--accent);
      color:#000;
      border-radius:10px;
      text-decoration:none;
      font-weight:700;
      font-size:15px;
      flex:1 1 auto;
      text-align:center;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      transition: transform 120ms ease, opacity 120ms ease;
    }

    .cta-button:active{ transform:scale(0.98) }

    /* --- LIGHTBOX --- */
    .lightbox{
      display:flex;
      position:fixed;
      inset:0;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,0.5);
      z-index:1400;
      opacity:0;
      pointer-events:none;
      transition: opacity 220ms ease;
      -webkit-backdrop-filter: blur(6px);
      backdrop-filter: blur(6px);
    }

    .lightbox.active{ opacity:1; pointer-events:auto }

    /* LIGHTBOX — кнопка закрыть над фото, prev/next под фото */
.lightbox .frame{
  max-width:95%;
  max-height:90%;
  display:flex;
  flex-direction:column;    /* стек элементов вертикально: close -> img -> (пространство) */
  align-items:center;
  justify-content:center;
  position:relative;
  padding-bottom:76px;     /* место для prev/next под картинкой (оставляем как было) */
  gap:8px;                 /* небольшой отступ между close и картинкой */
}

.lightbox img{
  width:auto;
  height:auto;
  max-width:100%;
  max-height:100%;
  border-radius:12px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.6);
  user-select:none;
  -webkit-user-drag:none;
}


/* prev/next оставляем под картинкой как absolute внутри .frame */
.lightbox .prev,
.lightbox .next {
  position: absolute;
  top: auto;
  background: #202020;
  color: white;
  border: none;
  font-size: 28px;
  padding: 10px 30px;
  border-radius: 8px;
  cursor: pointer;
  z-index: 2000;
  transition: transform 5ms ease, filter 5ms ease;
  transform: translateX(-50%);
  bottom: 0px; /* смещаем под картинку */
}

/* ставим кнопки слева и справа от центра */
.lightbox .prev { left: calc(50% - 64px); }
.lightbox .next { left: calc(50% + 64px); }

/* активное состояние (тап) */
.lightbox .prev:active,
.lightbox .next:active { transform: translateX(-50%) scale(0.97); 
filter: brightness(1.4); /* светлеет на 40% */}
.lightbox .close:active { transform: scale(0.97); 
filter: brightness(1.4);}

/* адаптив: на узких экранах сдвинем prev/next ближе к центру */
@media (max-width: 420px){
  .lightbox .prev { left: calc(50% - 44px); }
  .lightbox .next { left: calc(50% + 44px); }
  .lightbox .frame{ padding-bottom:64px; }
}
.lightbox .close {
  font-family: 'Montserrat';
  position: relative;        /* остаётся в потоке сверху над картинкой */
  left: 0;
  transform: none;
  z-index: 2000;
  width: 100%;               /* по ширине совпадает с изображением */
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #202020;     /* сохраняем исходный стиль */
  color: whitesmoke;
  border: none;
  font-size: 20px;           /* крупнее и читаемо */
  font-weight: 700;           /* жирный текст */
  padding: 12px 0;           /* чуть больше вертикального пространства */
  border-radius: 8px;
  cursor: pointer;
  text-transform: uppercase; 
  transition: filter 5ms ease, transform 5ms ease; /* можно сделать текст заглавными для лучшей читаемости */
}
.lightbox .close:active {
  transform: scale(0.97);
  filter: brightness(1.4); /* светлеет при нажатии */
}

    /* --- Back home --- */
    .back-home{
      position:fixed;
      left:14px;
      right:14px;
      bottom:18px;
      z-index:1500;
      display:block;
      text-align:center;
      padding:14px 16px;
      border-radius:14px;
      background: rgba(255,255,255,0.06);
      color:var(--text);
      text-decoration:none;
      font-size: 17px;
      font-weight: 700;
      box-shadow: 0 8px 24px rgba(0,0,0,0.5);
      backdrop-filter: blur(12px);
      transform: translateY(12px);
      opacity:0;
      transition: transform 320ms cubic-bezier(.2,.9,.3,1), opacity 320ms ease;
      pointer-events:none;
      border: 1px solid whitesmoke;
      font-family: 'Montserrat';
    }

    .back-home.visible{ transform: translateY(0); opacity:1; pointer-events:auto }

    /* --- RESPONSIVE --- */
    @media (max-width: 1100px){ .photo-gallery{ grid-template-columns: repeat(3,1fr) } }
    @media (max-width: 800px){ .photo-gallery{ grid-template-columns: repeat(2,1fr); } }
    @media (max-width: 480px){ .photo-gallery{ grid-template-columns: repeat(1,1fr); } .object-header{ font-size:15px } .cta-button{ font-size:16px } }

    /* Accessibility focus */
    a:focus, button:focus, img:focus{ outline: 3px solid rgba(248,209,59,0.18); outline-offset:3px }

    .object-header {
  font-family: 'Montserrat-SemiBold', sans-serif; /* или любой другой шрифт */
  font-size: 18px;                       /* можете увеличить, если нужно */
  font-weight: 600;                      /* немного мягче чем bold */
  color: var(--accent);
  margin-bottom: 12px;
}

  </style>
</head>
<body>
  <div class="container">

    <div class="object">
      <div class="object-header" >Туристический комплекс "Красный бор" и другие похожие объекты</div>
      <div class="photo-gallery" data-group="1" role="list">
        <img src="photos/bor/1.jpeg" alt="Фото 1">
      <img src="photos/bor/2.jpeg" alt="Фото 2">
      <img src="photos/bor/3.jpeg" alt="Фото 3">
      <img src="photos/bor/4.jpeg" alt="Фото 4">
      <img src="photos/bor/5.jpeg" alt="Фото 5">
      <img src="photos/bor/6.jpeg" alt="Фото 6">
      <img src="photos/bor/7.jpeg" alt="Фото 7">
      <img src="photos/bor/9.jpeg" alt="Фото 8">
      </div>
      <div class="cta-row">
        <a class="cta-button" href="likiti-mobile.html#request" aria-label="Оставить заявку на объект 1">Оставить заявку</a>
      </div>
    </div>

    <div class="object">
      <div class="object-header">ОАО "Дорстроймонтажтрест", ОАО "Трест16" и ОАО "дорожно-строительный трест №1" и др.</div>
      <div class="photo-gallery" data-group="2" role="list">
        <img src="photos/trest/1.jpeg" alt="Фото 1">
      <img src="photos/trest/2.jpeg" alt="Фото 2">
      <img src="photos/trest/3.jpeg" alt="Фото 3">
      <img src="photos/trest/4.jpeg" alt="Фото 4">
      <img src="photos/trest/8.jpeg" alt="Фото 5">
      <img src="photos/trest/11.jpeg" alt="Фото 6">
      <img src="photos/trest/15.jpeg" alt="Фото 7">
      <img src="photos/13.jpeg" alt="Фото 8">
      </div>
      <div class="cta-row">
        <a class="cta-button" href="likiti-mobile.html#request" aria-label="Оставить заявку на объект 2">Оставить заявку</a>
      </div>
    </div>

  </div>

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="Просмотр изображения">
    <div class="frame">
      <button class="close" aria-label="Закрыть (Esc)">Закрыть</button>
      <button class="prev" aria-label="Предыдущее изображение">&#10094;</button>
      <img src="" alt="Просмотр">
      <button class="next" aria-label="Следующее изображение">&#10095;</button>
    </div>
  </div>

  <a class="back-home" href="likiti.html">Вернуться на главную страницу</a>
  <div style="height: 50px;"></div>

  <script>
    (function(){
      // Кеш
      const images = Array.from(document.querySelectorAll('.photo-gallery img'));
      const lightbox = document.getElementById('lightbox');
      const lbImg = lightbox.querySelector('img');
      const btnPrev = lightbox.querySelector('.prev');
      const btnNext = lightbox.querySelector('.next');
      const btnClose = lightbox.querySelector('.close');
      const backButton = document.querySelector('.back-home');

      let currentGroup = [];
      let currentIndex = 0;

      // Открытие по тапу/click
      images.forEach(img => {
        img.addEventListener('click', (e) => openFrom(img));
        img.addEventListener('keydown', (e) => { if(e.key === 'Enter') openFrom(img); });
        // improve touch responsiveness
        img.addEventListener('touchstart', () => {}, {passive:true});
      });

      function openFrom(img){
        const group = img.closest('.photo-gallery').dataset.group;
        currentGroup = Array.from(document.querySelectorAll(`.photo-gallery[data-group="${group}"] img`));
        currentIndex = currentGroup.indexOf(img);
        showLightbox();
      }

      function showLightbox(){
        lbImg.src = currentGroup[currentIndex].src;
        lbImg.alt = currentGroup[currentIndex].alt || '';
        lightbox.classList.add('active');
        lightbox.setAttribute('aria-hidden','false');
        // запрет скролла страницы
        document.documentElement.style.overflow = 'hidden';
        document.body.style.overflow = 'hidden';
        // скрыть back button пока открыт
        backButton.classList.remove('visible');
      }

      function hideLightbox(){
        lightbox.classList.remove('active');
        lightbox.setAttribute('aria-hidden','true');
        document.documentElement.style.overflow = '';
        document.body.style.overflow = '';
        // показываем кнопку назад с задержкой
        requestAnimationFrame(() => backButton.classList.add('visible'));
      }

      function prev(){ currentIndex = (currentIndex - 1 + currentGroup.length) % currentGroup.length; lbImg.src = currentGroup[currentIndex].src; }
      function next(){ currentIndex = (currentIndex + 1) % currentGroup.length; lbImg.src = currentGroup[currentIndex].src; }

      btnPrev.addEventListener('click', (e)=>{ e.stopPropagation(); prev(); });
      btnNext.addEventListener('click', (e)=>{ e.stopPropagation(); next(); });
      btnClose.addEventListener('click', hideLightbox);

      lightbox.addEventListener('click', (e)=>{ if(e.target === lightbox) hideLightbox(); });

      // клавиши
      document.addEventListener('keydown', (e)=>{
        if(!lightbox.classList.contains('active')) return;
        if(e.key === 'Escape') hideLightbox();
        if(e.key === 'ArrowLeft') prev();
        if(e.key === 'ArrowRight') next();
      });

      // свайпы для мобильных (простой)
      (function addSwipe(el){
        let startX = 0, startY = 0, distX = 0, distY = 0;
        el.addEventListener('touchstart', function(e){
          const t = e.touches[0]; startX = t.clientX; startY = t.clientY; distX = distY = 0;
        }, {passive:true});
        el.addEventListener('touchmove', function(e){
          const t = e.touches[0]; distX = t.clientX - startX; distY = t.clientY - startY;
        }, {passive:true});
        el.addEventListener('touchend', function(e){
          if(Math.abs(distX) > 50 && Math.abs(distY) < 60){ if(distX > 0) prev(); else next(); }
        });
      })(lightbox);

      // Показать back-home после загрузки
      window.addEventListener('DOMContentLoaded', ()=>{
        requestAnimationFrame(()=> backButton.classList.add('visible'));
      });

      // улучшение: показывать/скрывать back-home при скролле (экономно)
      let lastScroll = 0;
      window.addEventListener('scroll', ()=>{
        const cur = window.scrollY || window.pageYOffset;
        if(cur > 120) backButton.classList.add('visible');
        else backButton.classList.remove('visible');
        lastScroll = cur;
      }, {passive:true});
const buttons = document.querySelectorAll('.lightbox .prev, .lightbox .next, .lightbox .close');

buttons.forEach(btn => {
  btn.addEventListener('touchstart', () => btn.classList.add('active'));
  btn.addEventListener('touchend', () => btn.classList.remove('active'));
});
// Эффект мгновенного нажатия для touch
(function addTouchEffect(buttons){
  buttons.forEach(btn => {
    btn.addEventListener('touchstart', () => btn.classList.add('active-touch'), {passive:true});
    btn.addEventListener('touchend', () => btn.classList.remove('active-touch'));
    btn.addEventListener('touchcancel', () => btn.classList.remove('active-touch'));
  });
})([btnPrev, btnNext, btnClose]);

    })();
  </script>
</body>
</html>
